---
import { getCollection } from "astro:content";

import Layout from "../layouts/Layout.astro";
import Reading from "./Reading.astro";

const recommendations = await getCollection("recommendations");
const readings = recommendations
  .filter((r) => r.slug === "readings")
  .flatMap((r) => r.data.items);
---

<Layout noPadding class="flex flex-col gap-11 bg-white pb-6 pt-9">
  <h3 class="text-llg font-bold leading-10">
    <span class="text-darkPink">Livres,</span> magazines...
  </h3>
  <div class="grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4">
    {
      readings.map(async (recommendation) => (
        <Reading recommendation={recommendation} />
      ))
    }
  </div>

  <h3 class="text-llg font-bold leading-10">
    <span class="text-darkPink">Vidéos,</span> reportages, émissions...
  </h3>
  <h3 class="text-llg font-bold leading-10">
    <span class="text-darkPink">Podcasts,</span> contenus audio...
  </h3>
  <h3 class="text-llg font-bold leading-10">
    <span class="text-darkPink">Articles,</span> ...
  </h3>
  <h3 class="text-llg font-bold leading-10">
    <span class="text-darkPink">Comptes à suivre,</span> pages, personnes...
  </h3>
  <h3 class="text-llg font-bold leading-10">
    <span class="text-darkPink">Organismes,</span> ...
  </h3>
</Layout>
